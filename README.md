# Расширение Data Vault

## 1.1 Описание

Ранее мною было разработано аналитическое хранилище в Vertica для социальной сети. Исходя из потребностей бизнеса была выбрана модель данных **Data Vault**.

Итоговая модель данных на слое DDS выглядит так:

![dds_model](https://user-images.githubusercontent.com/63814959/213483907-d56cda7a-8e62-46cf-a1e3-3d36ba52ae2d.png)

В качестве источника данных использовался **Amazon S3**.

В рамках данного проекта необходимо доработать существующее хранилище. Задача поставлена следующим образом:

Чтобы привлечь новых пользователей, маркетологи хотят разместить на сторонних сайтах рекламу сообществ с высокой активностью. 
Нужно определить группы, в которых начала общаться большая часть их участников. Другими словами, нам нужно выявить группы с самой высокой конверсией.

Пример:

![conversion](https://user-images.githubusercontent.com/63814959/213486274-b85b38e0-7ae4-45f3-8736-18335a9118c3.png)

В группе А конверсия выше, чем в Б. Хотя в группе А сейчас общается только 40 пользователей соцсети, а в Б — 50, доля активных в А выше, ведь в ней всего 50 человек. 
В то время как в группе Б сообщения написали уже 50 участников, но это лишь половина от общего количества — 100. Значит, если в обе группы вступит одинаковое число людей, эффективнее сработает сообщество А, потому что оно лучше вовлекает своих участников. 
Получается, что для рекламы соцсети стоит выбрать группу А и другие паблики с высокой конверсией. Задача — выявить и перечислить маркетологам такие сообщества.


### 1.2  Цель

В качестве источника данных вновь будет использоваться csv-файл, находящийся в хранилище S3.

В рамках проекта необходимо:

- Написать DAG для подключения к S3 и выгрузки файла
- Создать таблицу в Vertica 
- Настроить загрузку AS IS в stg слой 
- Создать хабы, линки, сателлиты на DDS слое и наполнить их 
- Дать ответ бизнесу 

Новые сущности и связи между ними должны выглядеть следующим образом:

![target_dds](https://user-images.githubusercontent.com/63814959/213495667-1712d751-77af-4b9a-840b-1c7f0e346649.png)

